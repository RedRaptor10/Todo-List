(()=>{"use strict";const e=()=>{const e={title:"",description:"",isDefault:!1,todoList:[],setTitle:t=>{e.title=t},setDescription:t=>{e.description=t},setDefault:t=>{e.isDefault=t},addTask:t=>{e.todoList.push(t)}};return e},t=()=>{const e={title:"",description:"",dueDate:"2021-01-01",priority:"Low",notes:"",status:!1,setTitle:t=>{e.title=t},setDescription:t=>{e.description=t},setDueDate:t=>{e.dueDate=t},setPriority:t=>{e.priority=t},setNotes:t=>{e.notes=t},setStatus:t=>{e.status=t}};return e};function n(e,t,n){let i=document.getElementById("taskWindow");i.innerHTML="";let d=document.createElement("div");d.id="taskTitle",d.innerHTML=e.title;let a=document.createElement("div");a.setAttribute("class","editButton"),a.innerHTML="Edit",a.addEventListener("click",(()=>{l("edit",e,t,n)}));let r=document.createElement("div");r.id="taskDueDate";let s=document.createElement("span");s.setAttribute("class","taskLabel"),s.innerHTML="Due Date: ";let c=document.createElement("span");c.innerHTML=e.dueDate,r.append(s,c);let o=document.createElement("div");o.id="taskPriority";let u=document.createElement("span");u.setAttribute("class","taskLabel"),u.innerHTML="Priority: ";let m=document.createElement("span");m.innerHTML=e.priority,o.append(u,m);let p=document.createElement("div");p.id="taskStatus";let E=document.createElement("span");E.setAttribute("class","taskLabel"),E.innerHTML="Status: ";let L=document.createElement("span");L.innerHTML=e.status?"Complete":"Incomplete",L.style.color=e.status?"rgb(0,255,0)":"rgb(255,0,0)",p.append(E,L);let v=document.createElement("div");v.id="taskDescription",v.innerHTML=e.description;let T=document.createElement("div");T.id="taskNotes";let b=document.createElement("span");b.setAttribute("class","taskLabel"),b.innerHTML="Notes:<br />";let H=document.createElement("span");H.innerHTML=e.notes,T.append(b,H),i.append(d,a,r,o,p,v,T)}function i(e){localStorage.setItem("projects",JSON.stringify(e)),0==e.length&&localStorage.clear()}function d(t,n,d){let l=document.getElementById("container"),r=document.createElement("div");r.id="cover",r.classList.add("cover"),r.addEventListener("click",(()=>{a(r,o)})),l.appendChild(r),setTimeout((()=>{r.classList.add("backgroundFade")}),100);let o=document.createElement("div");o.setAttribute("class","projectForm");let u=document.createElement("div");u.id="formTitle","add"==t?u.innerHTML="Add Project":"edit"==t&&(u.innerHTML="Edit Project"),o.append(u);let m=document.createElement("label");m.setAttribute("for","projectTitle"),m.innerHTML="Title";let p=document.createElement("label");p.setAttribute("class","errorMessage");let E=document.createElement("input");E.setAttribute("type","text"),E.id="titleInput","edit"==t&&(E.value=n.title),o.append(m,p,E);let L=document.createElement("label");L.setAttribute("for","projectDescription"),L.innerHTML="Description";let v=document.createElement("textarea");v.setAttribute("type","text"),v.id="descriptionInput","edit"==t&&(v.value=n.description),o.append(L,v);let T=document.createElement("label");T.setAttribute("for","projectDefault"),T.id="defaultLabel",T.innerHTML="Default";let b=document.createElement("input");b.setAttribute("type","checkbox"),b.id="defaultCheckbox",o.append(T,b);let H=document.createElement("div");H.id="saveButton",H.innerHTML="Save",H.addEventListener("click",(()=>{let l=document.getElementById("titleInput").value,u=document.getElementById("descriptionInput").value,m=document.getElementById("defaultCheckbox").value;if(l){if(m&&d.forEach((e=>{e.setDefault(!1)})),"add"==t){let t=e();t.setTitle(l),t.setDescription(u),t.setDefault(m),d.push(t)}else"edit"==t&&(n.setTitle(l),n.setDefault(m),n.setDescription(u),s(n,d));c(d,!1),a(r,o),i(d)}else p.innerHTML="* Title required."})),o.appendChild(H),l.appendChild(o),setTimeout((()=>{o.classList.add("projectFormFade")}),100)}function l(e,d,l,a){let c=document.getElementById("container"),o=document.createElement("div");o.id="cover",o.classList.add("cover"),o.addEventListener("click",(()=>{r(o,u)})),c.appendChild(o),setTimeout((()=>{o.classList.add("backgroundFade")}),100);let u=document.createElement("div");u.setAttribute("class","taskForm");let m=document.createElement("div");m.id="formTitle","add"==e?m.innerHTML="Add Task":"edit"==e&&(m.innerHTML="Edit Task"),u.append(m);let p=document.createElement("label");p.setAttribute("for","taskTitle"),p.innerHTML="Title";let E=document.createElement("label");E.setAttribute("class","errorMessage");let L=document.createElement("input");L.setAttribute("type","text"),L.id="titleInput","edit"==e&&(L.value=d.title),u.append(p,E,L);let v=document.createElement("label");v.setAttribute("for","taskDueDate"),v.innerHTML="Due Date";let T=document.createElement("input");T.setAttribute("type","date"),T.id="dueDateInput",T.valueAsDate=new Date,"edit"==e&&(T.value=d.dueDate),u.append(v,T);let b=document.createElement("label");b.setAttribute("for","taskPriority"),b.innerHTML="Priority";let H=document.createElement("select");H.setAttribute("name","priority"),H.id="prioritySelect";let M=document.createElement("option");M.value="Low",M.innerHTML="Low";let k=document.createElement("option");k.value="Mid",k.innerHTML="Mid";let y=document.createElement("option");y.value="High",y.innerHTML="High",H.append(M,k,y),"edit"==e&&(H.value=d.priority),u.append(b,H);let D=document.createElement("label");D.setAttribute("for","taskDescription"),D.innerHTML="Description";let f=document.createElement("textarea");f.setAttribute("type","text"),f.id="descriptionInput","edit"==e&&(f.value=d.description),u.append(D,f);let g=document.createElement("label");g.setAttribute("for","taskNotes"),g.innerHTML="notes";let A=document.createElement("textarea");A.setAttribute("type","text"),A.id="notesInput","edit"==e&&(A.value=d.notes),u.append(g,A);let I=document.createElement("div");I.id="saveButton",I.innerHTML="Save",I.addEventListener("click",(()=>{let c=document.getElementById("titleInput").value,m=document.getElementById("dueDateInput").value,p=document.getElementById("prioritySelect").value,L=document.getElementById("descriptionInput").value,v=document.getElementById("notesInput").value;if(c){if("add"==e){let e=t();e.setTitle(c),e.setDueDate(m),e.setPriority(p),e.setDescription(L),e.setNotes(v),l.todoList.push(e)}else"edit"==e&&(d.setTitle(c),d.setDueDate(m),d.setPriority(p),d.setDescription(L),d.setNotes(v),n(d,l,a));s(l,a),r(o,u),i(a)}else E.innerHTML="* Title required."})),u.appendChild(I),c.appendChild(u),setTimeout((()=>{u.classList.add("taskFormFade")}),100)}function a(e,t){setTimeout((()=>{e.classList.remove("backgroundFade"),t.classList.remove("projectFormFade"),setTimeout((()=>{t.remove(),e.remove()}),500)}),100)}function r(e,t){setTimeout((()=>{e.classList.remove("backgroundFade"),t.classList.remove("taskFormFade"),setTimeout((()=>{t.remove(),e.remove()}),500)}),100)}function s(e,t){let a=document.getElementById("main");a.innerHTML="";let r=document.createElement("div");r.id="projectTitle",r.innerHTML=e.title;let c=document.createElement("div");c.setAttribute("class","editButton"),c.innerHTML="Edit",c.addEventListener("click",(()=>{d("edit",e,t)}));let o=document.createElement("div");o.id="projectDescription",o.innerHTML=e.description;let u=document.createElement("div");u.id="tasksTitle",u.innerHTML="Tasks";let m=document.createElement("div");m.id="addTaskButton",m.innerHTML="+",m.addEventListener("click",(()=>{l("add",null,e,t)}));let p=document.createElement("div");p.id="todoList";let E=document.createElement("div");E.id="listHeader";let L=document.createElement("div");L.id="listHeaderTitle",L.innerHTML="Name";let v=document.createElement("div");v.id="listHeaderProperties";let T=document.createElement("div");T.id="listHeaderDueDate",T.innerHTML="Due Date";let b=document.createElement("div");b.id="listHeaderPriority",b.innerHTML="Priority";let H=document.createElement("div");H.id="listHeaderStatus",H.innerHTML="Status",v.append(T,b,H),E.append(L,v),p.append(E),e.todoList.forEach(((d,l)=>{let a=document.createElement("div");a.setAttribute("class","task");let r=document.createElement("div");r.setAttribute("class","taskTitle"),r.innerHTML=l+1+". "+d.title;let c=document.createElement("div");c.setAttribute("class","taskProperties");let o=document.createElement("div");o.setAttribute("class","taskDueDate"),o.innerHTML=d.dueDate;let u=document.createElement("div");u.setAttribute("class","taskPriority"),u.innerHTML=d.priority;let m=document.createElement("div");m.setAttribute("class","taskStatus"),m.innerHTML=d.status?"Complete":"Incomplete",m.style.color=d.status?"rgb(0,255,0)":"rgb(255,0,0)",m.addEventListener("mouseenter",(()=>{m.style.textDecoration="underline"})),m.addEventListener("mouseleave",(()=>{m.style.textDecoration="unset"})),m.addEventListener("click",(()=>{let n=!d.status;d.setStatus(n),m.innerHTML=d.status?"Complete":"Incomplete",s(e,t)})),c.append(o,u,m);let E=document.createElement("div");E.setAttribute("class","removeTaskButton"),E.innerHTML="-",E.addEventListener("click",(()=>{!function(e,t,n){let d=document.getElementById("taskWindow");const l=t.todoList.indexOf(e);l>-1&&t.todoList.splice(l,1),d.innerHTML="",s(t,n),i(n),0==n.length&&localStorage.clear()}(d,e,t)})),a.addEventListener("click",(()=>{n(d,e,t)})),a.append(r,c,E),p.appendChild(a)})),a.append(r,c,o,u,m,p)}function c(e,t){document.getElementById("sidebar");let n=document.getElementById("projectsContainer");document.getElementById("main"),n.innerHTML="",e.forEach(((d,l)=>{let a=document.createElement("div");a.setAttribute("class","project"),l==e.length-1&&a.classList.add("projectLast");let r=document.createElement("div");r.setAttribute("class","projectTitle"),r.innerHTML=d.title;let o=document.createElement("div");o.setAttribute("class","removeProjectButton"),o.innerHTML="-",o.addEventListener("click",(()=>{!function(e,t){let n=document.getElementById("main");const d=t.indexOf(e);d>-1&&t.splice(d,1),n.innerHTML="",c(t,!1),i(t)}(d,e)})),t&&d.isDefault&&s(d,e),r.addEventListener("click",(()=>{s(d,e)})),a.appendChild(r),a.appendChild(o),n.appendChild(a)}))}let o=[];if(localStorage.getItem("projects")&&JSON.parse(localStorage.getItem("projects")),0==o.length){let n=e();n.setTitle("My Project");let i=t();i.setTitle("My Task"),n.addTask(i),o.push(n)}!function(){let e=document.getElementById("container"),t=document.createElement("div");t.id="header";let n=document.createElement("a");n.id="title",n.innerHTML="Todo List",n.addEventListener("click",(()=>{location.reload()})),t.append(n);let i=document.createElement("div");i.id="sidebar";let d=document.createElement("div");d.id="sidebarTitle",d.innerHTML="Projects",i.appendChild(d);let l=document.createElement("div");l.id="addProjectButton",l.innerHTML="+",i.appendChild(l);let a=document.createElement("div");a.id="projectsContainer",i.appendChild(a);let r=document.createElement("div");r.id="main";let s=document.createElement("div");s.id="taskWindow",e.append(t,i,r,s)}(),function(e){document.getElementById("sidebar"),document.getElementById("addProjectButton").addEventListener("click",(()=>{d("add",null,e)})),c(e,!0)}(o)})();