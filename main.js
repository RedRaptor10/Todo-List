(()=>{"use strict";const e=()=>{const e={title:"",description:"",isDefault:!1,todoList:[],setTitle:t=>{e.title=t},setDescription:t=>{e.description=t},setDefault:t=>{e.isDefault=t},addTask:t=>{e.todoList.push(t)}};return e},t=()=>{const e={title:"",description:"",dueDate:"",priority:"Low",notes:"",status:!1,setTitle:t=>{e.title=t},setDescription:t=>{e.description=t},setDueDate:t=>{e.dueDate=t},setPriority:t=>{e.priority=t},setNotes:t=>{e.notes=t},setStatus:t=>{e.status=t}};return e};function n(t,n,l){let a=document.getElementById("container"),r=document.createElement("div");r.id="cover",r.classList.add("cover"),r.addEventListener("click",(()=>{i(r,c)})),a.appendChild(r),setTimeout((()=>{r.classList.add("backgroundFade")}),100);let c=document.createElement("div");c.setAttribute("class","projectForm");let o=document.createElement("div");o.id="formTitle","add"==t?o.innerHTML="Add Project":"edit"==t&&(o.innerHTML="Edit Project"),c.append(o);let u=document.createElement("label");u.setAttribute("for","projectTitle"),u.innerHTML="Title";let m=document.createElement("label");m.setAttribute("class","errorMessage");let p=document.createElement("input");p.setAttribute("type","text"),p.id="titleInput","edit"==t&&(p.value=n.title),c.append(u,m,p);let E=document.createElement("label");E.setAttribute("for","projectDescription"),E.innerHTML="Description";let L=document.createElement("textarea");L.setAttribute("type","text"),L.id="descriptionInput","edit"==t&&(L.value=n.description),c.append(E,L);let v=document.createElement("label");v.setAttribute("for","projectDefault"),v.id="defaultLabel",v.innerHTML="Default";let T=document.createElement("input");T.setAttribute("type","checkbox"),T.id="defaultCheckbox",c.append(v,T);let b=document.createElement("div");b.id="saveButton",b.innerHTML="Save",b.addEventListener("click",(()=>{let a=document.getElementById("titleInput").value,o=document.getElementById("descriptionInput").value,u=document.getElementById("defaultCheckbox").value;if(a){if(u&&l.forEach((e=>{e.setDefault(!1)})),"add"==t){let t=e();t.setTitle(a),t.setDescription(o),t.setDefault(u),l.push(t)}else"edit"==t&&(n.setTitle(a),n.setDefault(u),n.setDescription(o));d(l,!1),i(r,c),s(l)}else m.innerHTML="* Title required."})),c.appendChild(b),a.appendChild(c),setTimeout((()=>{c.classList.add("projectFormFade")}),100)}function i(e,t){setTimeout((()=>{e.classList.remove("backgroundFade"),t.classList.remove("projectFormFade"),setTimeout((()=>{t.remove(),e.remove()}),500)}),100)}function d(e,t){document.getElementById("sidebar");let n=document.getElementById("projectsContainer");document.getElementById("main"),n.innerHTML="",e.forEach(((i,a)=>{let r=document.createElement("div");r.setAttribute("class","project"),a==e.length-1&&r.classList.add("projectLast");let c=document.createElement("div");c.setAttribute("class","projectTitle"),c.innerHTML=i.title;let o=document.createElement("div");o.setAttribute("class","removeProjectButton"),o.innerHTML="-",o.addEventListener("click",(()=>{!function(e,t){let n=document.getElementById("main");const i=t.indexOf(e);i>-1&&t.splice(i,1),n.innerHTML="",d(t,!1),s(t),0==t.length&&localStorage.clear()}(i,e)})),t&&i.isDefault&&l(i,e),c.addEventListener("click",(()=>{l(i,e)})),r.appendChild(c),r.appendChild(o),n.appendChild(r)}))}function l(e,t){let i=document.getElementById("main");i.innerHTML="";let d=document.createElement("div");d.id="projectTitle",d.innerHTML=e.title;let r=document.createElement("div");r.setAttribute("class","editButton"),r.innerHTML="Edit",r.addEventListener("click",(()=>{n("edit",e,t)}));let c=document.createElement("div");c.id="projectDescription",c.innerHTML=e.description;let o=document.createElement("div");o.id="tasksTitle",o.innerHTML="Tasks";let u=document.createElement("div");u.id="addTaskButton",u.innerHTML="+",u.addEventListener("click",(()=>{a("add",null,e,t)}));let m=document.createElement("div");m.id="todoList";let p=document.createElement("div");p.id="listHeader";let E=document.createElement("div");E.id="listHeaderTitle",E.innerHTML="Name";let L=document.createElement("div");L.id="listHeaderProperties";let v=document.createElement("div");v.id="listHeaderDueDate",v.innerHTML="Due Date";let T=document.createElement("div");T.id="listHeaderPriority",T.innerHTML="Priority";let b=document.createElement("div");b.id="listHeaderStatus",b.innerHTML="Status",L.append(v,T,b),p.append(E,L),m.append(p),e.todoList.forEach(((n,i)=>{let d=document.createElement("div");d.setAttribute("class","task");let r=document.createElement("div");r.setAttribute("class","taskTitle"),r.innerHTML=i+1+". "+n.title;let c=document.createElement("div");c.setAttribute("class","taskProperties");let o=document.createElement("div");o.setAttribute("class","taskDueDate"),o.innerHTML=n.dueDate;let u=document.createElement("div");u.setAttribute("class","taskPriority"),u.innerHTML=n.priority;let p=document.createElement("div");p.setAttribute("class","taskStatus"),p.innerHTML=n.status?"Complete":"Incomplete",p.style.color=n.status?"rgb(0,255,0)":"rgb(255,0,0)",p.addEventListener("mouseenter",(()=>{p.style.textDecoration="underline"})),p.addEventListener("mouseleave",(()=>{p.style.textDecoration="unset"})),p.addEventListener("click",(()=>{let i=!n.status;n.setStatus(i),p.innerHTML=n.status?"Complete":"Incomplete",l(e,t)})),c.append(o,u,p);let E=document.createElement("div");E.setAttribute("class","removeTaskButton"),E.innerHTML="-",E.addEventListener("click",(()=>{!function(e,t,n){let i=document.getElementById("taskWindow");const d=t.todoList.indexOf(e);d>-1&&t.todoList.splice(d,1),i.innerHTML="",l(t,n),s(n),0==n.length&&localStorage.clear()}(n,e,t)})),d.addEventListener("click",(()=>{!function(e,t,n){let i=document.getElementById("taskWindow");i.innerHTML="";let d=document.createElement("div");d.id="taskTitle",d.innerHTML=e.title;let l=document.createElement("div");l.setAttribute("class","editButton"),l.innerHTML="Edit",l.addEventListener("click",(()=>{a("edit",e,t,n)}));let r=document.createElement("div");r.id="taskDueDate";let s=document.createElement("span");s.setAttribute("class","taskLabel"),s.innerHTML="Due Date: ";let c=document.createElement("span");c.innerHTML=e.dueDate,r.append(s,c);let o=document.createElement("div");o.id="taskPriority";let u=document.createElement("span");u.setAttribute("class","taskLabel"),u.innerHTML="Priority: ";let m=document.createElement("span");m.innerHTML=e.priority,o.append(u,m);let p=document.createElement("div");p.id="taskStatus";let E=document.createElement("span");E.setAttribute("class","taskLabel"),E.innerHTML="Status: ";let L=document.createElement("span");L.innerHTML=e.status?"Complete":"Incomplete",L.style.color=e.status?"rgb(0,255,0)":"rgb(255,0,0)",p.append(E,L);let v=document.createElement("div");v.id="taskDescription",v.innerHTML=e.description;let T=document.createElement("div");T.id="taskNotes";let b=document.createElement("span");b.setAttribute("class","taskLabel"),b.innerHTML="Notes:<br />";let H=document.createElement("span");H.innerHTML=e.notes,T.append(b,H),i.append(d,l,r,o,p,v,T)}(n,e,t)})),d.append(r,c,E),m.appendChild(d)})),i.append(d,r,c,o,u,m)}function a(e,n,i,d){let a=document.getElementById("container"),c=document.createElement("div");c.id="cover",c.classList.add("cover"),c.addEventListener("click",(()=>{r(c,o)})),a.appendChild(c),setTimeout((()=>{c.classList.add("backgroundFade")}),100);let o=document.createElement("div");o.setAttribute("class","taskForm");let u=document.createElement("div");u.id="formTitle","add"==e?u.innerHTML="Add Task":"edit"==e&&(u.innerHTML="Edit Task"),o.append(u);let m=document.createElement("label");m.setAttribute("for","taskTitle"),m.innerHTML="Title";let p=document.createElement("label");p.setAttribute("class","errorMessage");let E=document.createElement("input");E.setAttribute("type","text"),E.id="titleInput","edit"==e&&(E.value=n.title),o.append(m,p,E);let L=document.createElement("label");L.setAttribute("for","taskDueDate"),L.innerHTML="Due Date";let v=document.createElement("input");v.setAttribute("type","date"),v.id="dueDateInput",v.valueAsDate=new Date,"edit"==e&&(v.value=n.dueDate),o.append(L,v);let T=document.createElement("label");T.setAttribute("for","taskPriority"),T.innerHTML="Priority";let b=document.createElement("select");b.setAttribute("name","priority"),b.id="prioritySelect";let H=document.createElement("option");H.value="Low",H.innerHTML="Low";let M=document.createElement("option");M.value="Mid",M.innerHTML="Mid";let k=document.createElement("option");k.value="High",k.innerHTML="High",b.append(H,M,k),"edit"==e&&(b.value=n.priority),o.append(T,b);let D=document.createElement("label");D.setAttribute("for","taskDescription"),D.innerHTML="Description";let y=document.createElement("textarea");y.setAttribute("type","text"),y.id="descriptionInput","edit"==e&&(y.value=n.description),o.append(D,y);let f=document.createElement("label");f.setAttribute("for","taskNotes"),f.innerHTML="notes";let g=document.createElement("textarea");g.setAttribute("type","text"),g.id="notesInput","edit"==e&&(g.value=n.notes),o.append(f,g);let A=document.createElement("div");A.id="saveButton",A.innerHTML="Save",A.addEventListener("click",(()=>{let a=document.getElementById("titleInput").value,u=document.getElementById("dueDateInput").value,m=document.getElementById("prioritySelect").value,E=document.getElementById("descriptionInput").value,L=document.getElementById("notesInput").value;if(a){if("add"==e){let e=t();e.setTitle(a),e.setDueDate(u),e.setPriority(m),e.setDescription(E),e.setNotes(L),i.todoList.push(e)}else"edit"==e&&(n.setTitle(a),n.setDueDate(u),n.setPriority(m),n.setDescription(E),n.setNotes(L));l(i,d),r(c,o),s(d)}else p.innerHTML="* Title required."})),o.appendChild(A),a.appendChild(o),setTimeout((()=>{o.classList.add("taskFormFade")}),100)}function r(e,t){setTimeout((()=>{e.classList.remove("backgroundFade"),t.classList.remove("taskFormFade"),setTimeout((()=>{t.remove(),e.remove()}),500)}),100)}function s(e){localStorage.setItem("projects",JSON.stringify(e))}let c=e();c.setTitle("My Project"),c.setDescription(""),c.setDefault(!0);let o=t();o.setTitle("My Task"),o.setDescription(""),o.setDueDate("2021-01-01"),o.setPriority("Low"),o.setNotes(""),o.setStatus(!1),c.addTask(o);let u=[c];localStorage.getItem("projects")&&(u=JSON.parse(localStorage.getItem("projects"))),function(e){let t=document.getElementById("container"),n=document.createElement("div");n.id="header";let i=document.createElement("div");i.id="sidebar";let d=document.createElement("div");d.id="sidebarTitle",d.innerHTML="Projects",i.appendChild(d);let l=document.createElement("div");l.id="addProjectButton",l.innerHTML="+",i.appendChild(l);let a=document.createElement("div");a.id="projectsContainer",i.appendChild(a);let r=document.createElement("div");r.id="main";let s=document.createElement("div");s.id="taskWindow",t.append(n,i,r,s)}(),function(){let e=document.getElementById("header"),t=document.createElement("div");t.id="title",t.innerHTML="Todo List",t.addEventListener("click",(()=>{location.reload()})),e.appendChild(t)}(),function(e){document.getElementById("sidebar"),document.getElementById("addProjectButton").addEventListener("click",(()=>{n("add",null,e)})),d(e,!0)}(u)})();